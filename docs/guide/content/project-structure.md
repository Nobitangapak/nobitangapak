[Home](https://github.com/pyrustic/pyrustic#readme) | [Tutorial](https://github.com/pyrustic/pyrustic/blob/master/docs/tutorial/README.md) | [Guide](https://github.com/pyrustic/pyrustic/blob/master/docs/guide/README.md) | [Reference](https://github.com/pyrustic/pyrustic/blob/master/docs/reference/README.md) | [Website](https://pyrustic.github.io)

## Project structure

If you issue the command `init` in `Project Manager`, the `target` will be populated with files and directories to create a base project following the conventional Python project structure as described in the [Python Packaging User Guide](https://packaging.python.org/tutorials/packaging-projects/).

This is what your project structure will look like:

```bash
demo/  # the demo project ($PROJECT_DIR) [1]
    demo/  # this is the app package ($APP_PKG) [2]
        hooking/  # hooks stay in this folder [3]
          __init__.py
          ante_build_hook.py  # hook executed before a build
          post_build_hook.py  # hook executed after a build
          ante_release_hook.py  # hook executed before a release
          post_release_hook.py  # hook executed after a release
        pyrustic_data/  # Pyrustic stores config here
            hooking.json  # config file for hooking
            hubstore.json  # config file for Hubstore
            release_info.json  # config file for release
        __init__.py
        __main__.py  # the mighty entry point of your app ! [4]
    tests/
        __init__.py
    CHANGELOG.md  # populated with the content of LATEST_RELEASE.md
    LATEST_RELEASE.md  # text displayed on the Latest Release page
    LICENSE  # empty license file, please don't forget to fill it
    MANIFEST.in  # already filled with convenient lines of rules
    pyproject.toml  # the new unified Python project settings file [5]
    README.md  # default nice README (there are even an image inside) [6]
    setup.cfg  # define here your name, email, dependencies, and more [7]
    setup.py  # it is not a redundancy, don't remove it, don't edit it [8]
    VERSION  # unique location to define the version of the app [9]
    .gitignore  # you can edit it if you want
```

- `[1]` This is the project directory ($PROJECT_DIR), also knows as the `target`.
- `[2]` Your codebase lives in the app package ($APP_PKG).
- `[3]` You can edit the scripts located in this package.
- `[4]` Here, you set the theme, the main view. This is the entry point of your app.
- `[5]` Read [What the heck is pyproject.toml ?](https://snarky.ca/what-the-heck-is-pyproject-toml/) and the [PEP 518](https://www.python.org/dev/peps/pep-0518/).
- `[6]` The default README looks like [this](https://github.com/pyrustic/demo#readme).
- `[7]` Read this [user guide](https://setuptools.readthedocs.io/en/latest/userguide/declarative_config.html) to edit the `setup.cfg` file.
- `[8]` If you want editable installs you still need a `setup.py` [shim](https://twitter.com/pganssle/status/1241161328137515008).
- `[9]` You won't need to edit this file if you use the commands `build` and `publish` that have an integrated versioning mechanism.

In order to avoid confusion, let's agree on the following points:
- `demo.hooking.ante_build_hook` is the dotted name of the `ante_build_hook.py` module present in the `hooking` package located in the `$APP_PKG`.
- `$APP_PKG.hooking.ante_build_hook` is the equivalent of `demo.hooking.ante_build_hook`.
- The `setup.cfg` file can be represented as `$PROJECT_DIR/setup.cfg` or `/path/to/setup.cfg` but never as `demo/setup.cfg` !
- `$APP_DIR` exists. See the next point.
- `$APP_DIR` and `$APP_PKG` represent the same directory. The nuance is that it is more elegant to write `$APP_DIR/misc/data.json` than `$APP_PKG/misc/data.json`.
- `$PROJECT_PKG` does not exist. Only `$PROJECT_DIR` exists.


This is the content of `__main__.py`:

```python
# "__main__.py" generated by Pyrustic Project Manager
from pyrustic.app import App
from pyrustic.hello import HelloView
from cyberpunk_theme import Cyberpunk


def main():
    # The App
    app = App()
    # Set the title
    app.title = "demo"
    # Set the theme
    app.theme = Cyberpunk()
    # Set the view
    app.view = lambda app: HelloView(app)
    # Center the window
    app.center()
    # Lift off !
    app.start()


if __name__ == "__main__":
    main()

```

`Pyrustic Framework` comes with a graphical equivalent of `Hello World`. By default, it's set as the main view of your app. So, when you issue `run` in `Project Manager`, the HelloView is displayed.

You can edit the `__main__.py` module to set your own main view.

This is the content of `pyrustic.hello`:

```python
import tkinter as tk
from viewable import Viewable
from megawidget.toast import Toast


class HelloView(Viewable):

    def __init__(self, app):
        super().__init__()
        self._app = app
        self._root = app.root
        self._body = None
        self._btn_max = None

    def _build(self):
        self._body = tk.Frame(self._root)
        self._root.geometry("500x300")
        # Label
        label = tk.Label(self._body, text="Hello Friend !")
        label.pack(expand=1, fill=tk.BOTH)
        # Footer
        footer = tk.Frame(self._body)
        footer.pack(side=tk.BOTTOM, fill=tk.X)
        # Button Leave
        btn_leave = tk.Button(footer, text="Leave",
                              command=self._on_click_btn_leave)
        btn_leave.pack(side=tk.RIGHT, padx=2, pady=2)
        # Button Maximize
        self._btn_max = tk.Button(footer, text="Maximize",
                                  command=self._on_click_btn_max)
        self._btn_max.pack(side=tk.RIGHT, pady=2)

    def _on_map(self):
        pass

    def _on_destroy(self):
        pass

    def _on_click_btn_max(self):
        self._app.maximize()
        self._btn_max.destroy()

    def _on_click_btn_leave(self):
        toast = Toast(self._body, message="Goodbye Friend !")
        toast.wait_window()
        self._app.exit()
```